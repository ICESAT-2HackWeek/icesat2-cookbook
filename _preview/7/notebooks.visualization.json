{"version":2,"kind":"Notebook","sha256":"46506f5d6b809fdbb1aa98a5b224ae1dd58c149fa59029b4e13502dadfe6b480","slug":"notebooks.visualization","location":"/notebooks/visualization.ipynb","dependencies":[],"frontmatter":{"title":"Interactive Visualizion with Open Altimetry & Google Earth Engine","kernelspec":{"name":"python3","display_name":"Python 3"},"skip_execution":true,"content_includes_title":false,"authors":[{"nameParsed":{"literal":"ICESat-2 team","given":"ICESat-2","family":"team"},"name":"ICESat-2 team","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/ICESAT-2HackWeek/icesat2-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/ICESAT-2HackWeek/icesat2-cookbook/blob/HEAD/notebooks/visualization.ipynb","thumbnail":"/icesat2-cookbook/_preview/7/build/b785ddce6158c1efca3b023af48fd454.jpeg","exports":[{"format":"ipynb","filename":"visualization.ipynb","url":"/icesat2-cookbook/_preview/7/build/visualization-928438719a964e322865255ca16d3a3a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"tags":[],"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"By Philipp Arndt, Chancelor Roberts ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"crEjhuGwYz"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IEcuTalUmH"},{"type":"text","value":"Scripps Institution of Oceanography, University of California San Diego ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LahoA5126p"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mhgFU2SKAU"},{"type":"text","value":"Github: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FaqnyemT2U"},{"type":"link","url":"https://github.com/fliphilipp","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"cite","identifier":"fliphilipp","label":"fliphilipp","kind":"narrative","position":{"start":{"line":3,"column":122},"end":{"line":3,"column":133}},"error":"not found","key":"t9ZrYfMgNb"}],"urlSource":"https://github.com/fliphilipp","error":true,"key":"BX7qs5xiqD"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ana01YFuFl"},{"type":"link","url":"https://github.com/chancelorr","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"cite","identifier":"chancelorr","label":"chancelorr","kind":"narrative","position":{"start":{"line":3,"column":168},"end":{"line":3,"column":179}},"error":"not found","key":"f8ZmEfYRAk"}],"urlSource":"https://github.com/chancelorr","error":true,"key":"kZmCM9odtv"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KluOuV15WM"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e7h8pucTxT"},{"type":"text","value":"Contact: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pnAwBsTqf4"},{"type":"link","url":"mailto:ccroberts@ucsd.edu","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ccroberts@ucsd.edu","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x0pF4wd5mh"}],"urlSource":"mailto:ccroberts@ucsd.edu","key":"jl17129Fku"}],"key":"kk1BvZyWwZ"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tsPoIusdoy"}],"identifier":"learning-objectives","label":"Learning Objectives","html_id":"learning-objectives","implicit":true,"key":"U4zkftzcsq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Discover some interesting ICESat-2 data by browsing ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"EUahOC2Khg"},{"type":"link","url":"https://openaltimetry.org/data/icesat2/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"OpenAltimetry","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jeqrxEAe4E"}],"urlSource":"https://openaltimetry.org/data/icesat2/","key":"sICVIj470y"}],"key":"lGmhNhYMpi"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Get the data into a Jupyter Notebook, plot it and overlay the ground track on a map","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ABtbTdspfW"}],"key":"MWwzzAd307"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EbOR9dK0S2"},{"type":"link","url":"https://earthengine.google.com/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Google Earth Engine","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gZFj9qcyFC"}],"urlSource":"https://earthengine.google.com/","key":"jzA6T1t7lK"},{"type":"text","value":" to find the closest-in-time Sentinel-2 image that is cloud-free along ICESat-2’s gound track","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"x682myVA5d"}],"key":"ddYlbUsOtH"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Make a plot from ICESat-2 data and contemporaneous imagery in Jupyter/matplotlib","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Z78n4drKE6"}],"key":"XA49wEavvI"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Bonus Code: Use Google Earth Engine to extract Sentinel-2 data along the ICESat-2 ground track","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"lUkHoDfgmB"}],"key":"Hel49H1dN2"}],"key":"vwXXOTBIss"}],"visibility":"show","key":"rW9owywa0K"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Computing environment","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cBLoT1DZv2"}],"identifier":"computing-environment","label":"Computing environment","html_id":"computing-environment","implicit":true,"key":"j7SM2QkNE6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We’ll be using the following Python libraries in this notebook:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"T4slnnlSTk"}],"key":"pEsjPOoinu"}],"key":"ZKouvKoAiD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#%matplotlib widget \nimport os\nimport ee\nimport geemap\nimport requests\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pylab as plt\nfrom datetime import datetime\nfrom datetime import timedelta\nfrom ipywidgets import Layout\nimport rasterio as rio\nfrom rasterio import plot as rioplot\nfrom rasterio import warp","visibility":"show","key":"K74rzabjtv"},{"type":"output","id":"LPkVxS7zK9VAHZ7Spi_V2","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"ynIcVWfJOT"}],"visibility":"show","key":"Q7R3Mb4gOu"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The import below is a class that I wrote myself. It helps us read and store data from the OpenAltimetry API.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YCaScEf4p4"},{"type":"break","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SdP5Cm3oSx"},{"type":"text","value":"If you are interested in how this works, you can find the code in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EN1wYVaXhw"},{"type":"inlineCode","value":"utils/oa.py","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"bt1t6008u2"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gyxqGW7L1D"}],"key":"d8AjF1WJkV"}],"key":"WgOuDsJ4Nw"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import utils.oa as oa\nfrom utils.oa import dataCollector\n\n%load_ext autoreload\n%autoreload 2","visibility":"show","key":"p2Xv6qhmlm"},{"type":"output","id":"ZSZOSHGF6GQ21AzcpGh-1","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"The autoreload extension is already loaded. To reload it, use:\n  %reload_ext autoreload\n"}],"visibility":"show","key":"TsKiQSLX0q"}],"visibility":"show","key":"udBaocYEMG"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Google Earth Engine Authentication and Initialization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CB2rBXwqei"}],"identifier":"google-earth-engine-authentication-and-initialization","label":"Google Earth Engine Authentication and Initialization","html_id":"google-earth-engine-authentication-and-initialization","implicit":true,"key":"EzdiLGuAgW"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"GEE requires you to authenticate your access, so if ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hcLISwHgoH"},{"type":"inlineCode","value":"ee.Initialize()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iMrc5CmrNo"},{"type":"text","value":" does not work you first need to run ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ciOMohuWOJ"},{"type":"inlineCode","value":"ee.Authenticate()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qKaJDdM5fs"},{"type":"text","value":". This gives you a link at which you can use your google account that is associated with GEE to get an authorization code. Copy the authorization code into the input field and hit ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pis0G9LpMb"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"enter","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"IaQ8ygrRk7"}],"key":"fTom1gsVk2"},{"type":"text","value":" to complete authentication.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pGXlwNsI2i"}],"key":"dIkaK93xdz"}],"key":"EwmeycUbz6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"try:\n    ee.Initialize()\nexcept: \n    ee.Authenticate()\n    ee.Initialize()","visibility":"show","key":"wm3huv025j"},{"type":"output","id":"QG3MfYTOh0o4LmAh9OiiH","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"IkUzIOYKUn"}],"visibility":"show","key":"J2yWEznCs1"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Downloading data from the OpenAltimetry API","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BnCjGZXRrV"}],"identifier":"downloading-data-from-the-openaltimetry-api","label":"Downloading data from the OpenAltimetry API","html_id":"downloading-data-from-the-openaltimetry-api","implicit":true,"key":"QueLEZMDrJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s say we have found some data that looks weird to us, and we don’t know what’s going on.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FJ9Hgrznqx"}],"key":"geDIQhKaLf"},{"type":"image","url":"/icesat2-cookbook/_preview/7/build/b785ddce6158c1efca3b023af48fd454.jpeg","alt":"image showing OpenAltimetry screenshot","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ey74T1LZOF","urlSource":"https://raw.githubusercontent.com/fliphilipp/images/main/oa-data.jpg"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"A short explanation of how I got the data:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ulHL1AzkHf"}],"identifier":"a-short-explanation-of-how-i-got-the-data","label":"A short explanation of how I got the data:","html_id":"a-short-explanation-of-how-i-got-the-data","implicit":true,"key":"D1TZAAjQTY"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"I went to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"z2FX79PUbj"},{"type":"link","url":"https://openaltimetry.org/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"openaltimetry.org","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xWXyxQQk8F"}],"urlSource":"https://openaltimetry.org/","key":"ne39HEd9hb"},{"type":"text","value":" and selected ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"G1YWAtkbP0"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"BROWSE ICESAT-2 DATA","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NwsPVH8yoe"}],"key":"eRVtZQuNh3"},{"type":"text","value":". Then I selected ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Kwaph2fTLc"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"ATL 06","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lxbVkMRhH1"}],"key":"clk2GJVaaK"},{"type":"text","value":" (Land Ice Height) on the top right, and switched the projection🌎 to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oYWTKAtSQA"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Arctic","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"hBXIvEIbtK"}],"key":"M7ri7oqjgU"},{"type":"text","value":". Then I selected ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NT4CAeZLZ3"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"August 22, 2021","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TsGHrwzd7R"}],"key":"WNxyvBADX0"},{"type":"text","value":" in the calendar📅 on the bottom left, and toggled the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Tya3wFLr9p"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"cloud","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"OLtEnzHObl"}],"key":"O4uGzJIt0E"},{"type":"text","value":"☁️ button to show MODIS imagery of that date. I then zoomed in on my region of interest.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"F8zRpeZiRh"}],"key":"KedgZW3fmS"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"To find out what ICESat-2 has to offer here, I clicked on ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"t6wJkjdgSU"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"SELECT A REGION","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"siH80ZmVp0"}],"key":"OsuYLLkmg8"},{"type":"text","value":" on the top left, and drew a rectangle around that mysterious cloud. When right-clicking on that rectangle, I could select ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bJP553wZWy"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"View Elevation profile","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"A3ppwCeuSt"}],"key":"PCDxUDvONB"},{"type":"text","value":". This opened a new tab, and showed me ATL06 and ATL08 elevations.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"TetzoS18IA"}],"key":"wrcQEFKjD3"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"It looks like ATL06 can’t decide where the surface is, and ATL08 tells me that there’s a forest canopy on the Greenland Ice Sheet? To get to the bottom of this, I scrolled all the way down and selected 🛈","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zz1OSrrzs3"},{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Get API URL","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"edTg9oDFgR"}],"key":"xDiOJ1mjmR"},{"type":"text","value":". The website confirms that the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"R0a4xTENm3"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"“API endpoint was copied to clipboard.”","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"AMKEwAicw7"}],"key":"Gk3Wg51jvw"},{"type":"text","value":" Now I can use this to access the data myself.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ytQhD3Mdwh"}],"key":"AX309iGDgw"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Note: Instead of trying to find this region yourself, you can access the OpenAltimetry page shown above by going to ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"w2TnL0izlM"},{"type":"link","url":"http://openaltimetry.org/data/icesat2/?annoId=580&shareKey=d8bebfb8251a69b5b7e2e05df6fd5ca5","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"this annotation🏷️","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"XjzRsTFhT9"}],"urlSource":"http://openaltimetry.org/data/icesat2/?annoId=580&shareKey=d8bebfb8251a69b5b7e2e05df6fd5ca5","key":"VTAg68Q1q9"},{"type":"text","value":". Just left-click on the red box and select “View Elevation Profile”.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NAAYVXiyyH"}],"key":"lE9HWMBRJS"}],"key":"bFKt4Iz7Hq"}],"key":"sF8T4SftgP"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Getting the OpenAltimetry info into python","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fkNVGJzxkK"}],"identifier":"getting-the-openaltimetry-info-into-python","label":"Getting the OpenAltimetry info into python","html_id":"getting-the-openaltimetry-info-into-python","implicit":true,"key":"HEHUOHrzfO"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"All we need to do is to paste the API URL that we copied from the webpage into a string.\nWe also need to specify which beam we would like to look at. The ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"isHem3AFLP"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"GT1R","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xmHWJRLf4d"}],"key":"pf98Aa3FST"},{"type":"text","value":" ground track looks funky, so let’s look at that one!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zbwxlZunKr"}],"key":"d665F835ep"}],"key":"tQfHomu4k0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# paste the API URL from OpenAltimetry below, and specify the beam you are interested in\noa_api_url = 'https://openaltimetry.earthdatacloud.nasa.gov/data/icesat2/elevation?minx=-25.4835556641541&miny=76.44321462688005&maxx=-21.976284749133928&maxy=77.33633089376721&zoom_level=5&beams=1,2,3,4,5,6&tracks=1236&date=2024-09-06&product=ATL06&mapType=arctic'\ngtx = 'gt1r'","visibility":"show","key":"AfkgXHsWml"},{"type":"output","id":"XGiMIc0igujejX28WzAiV","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"XteGes73RP"}],"visibility":"show","key":"fvjH8UggNe"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can now initialize a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BCSlju0Sr1"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hZf2p3KHzo"},{"type":"text","value":" object, using the copy-pasted OpenAltimetry API URL, and the beam we would like to look at. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"utBALs0PRZ"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WQqZZ4FUay"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"(Again, I defined this class in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VXjrocKKGg"},{"type":"inlineCode","value":"utils/oa.py","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jCJTW709on"},{"type":"text","value":" to do some work for us in the background.)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vw2zYHXm5p"}],"key":"bn0PTbrpbD"}],"key":"aYIl3AnSux"}],"key":"iO4T7EGJO1"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"is2data = dataCollector(oaurl=oa_api_url, beam=gtx, verbose=True)","visibility":"show","key":"qdshc7K3SU"},{"type":"output","id":"dduMcpHPo4NjAbOZ0zjTw","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"OpenAltimetry API URL: https://openaltimetry.earthdatacloud.nasa.gov/data/api/icesat2/atlXX?minx=-25.4835556641541&maxx=-21.976284749133928&miny=76.44321462688005&maxy=77.33633089376721&date=2024-09-06&trackId=1236&beamNames=gt1r&client=portal&outputFormat=json\nDate: 2024-09-06\nTrack: 1236\nBeam: gt1r\nLatitude limits: ['76.44321462688005', '77.33633089376721']\nLongitude limits: ['-25.4835556641541', '76.44321462688005']\n"}],"visibility":"show","key":"aSD3BVEWqG"}],"visibility":"show","key":"b9xXz2IxNP"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Alternatively, we could use a date, track number, beam, and lat/lon bounding box as input to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uYTthQp8cz"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cKgaLqPBGr"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MGQRZqGAqq"}],"key":"RdNq0Cweo4"}],"key":"xIpIC9UDyL"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"date = '2021-08-22'\nrgt = 909\nbeam = 'gt1r'\nlatlims = [77.5326, 77.5722]\nlonlims = [-23.9891, -23.9503]\nis2data = dataCollector(date=date, latlims=latlims, lonlims=lonlims, track=rgt, beam=beam, verbose=True)","visibility":"show","key":"AAV9SXviVH"},{"type":"output","id":"TSeq3a0dBpisLLeMspfvf","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"OpenAltimetry API URL: https://openaltimetry.earthdatacloud.nasa.gov/data/api/icesat2/atlXX?minx=-23.9891&miny=77.5326&maxx=-23.9503&maxy=77.5722&date=2021-08-22&trackId=909&beamNames=gt1r&client=portal&outputFormat=json\nDate: 2021-08-22\nTrack: 909\nBeam: gt1r\nLatitude limits: [77.5326, 77.5722]\nLongitude limits: [-23.9891, 77.5326]\n"}],"visibility":"show","key":"WWfSIrF5qo"}],"visibility":"show","key":"PeLnkNrE0w"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note that this also constructs the API url for us.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H5dG1hreeY"}],"key":"uN6d2nqrw0"}],"key":"AM2r0JKXrQ"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Requesting the data from the OpenAltimetry API","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CkgTwHiLBC"}],"identifier":"requesting-the-data-from-the-openaltimetry-api","label":"Requesting the data from the OpenAltimetry API","html_id":"requesting-the-data-from-the-openaltimetry-api","implicit":true,"key":"B9cKVHLTZi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Here we use the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fUedCk0gIH"},{"type":"inlineCode","value":"requestData()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ngBJxhIGUc"},{"type":"text","value":" function of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zaoSUk3ehU"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LxnfimelMF"},{"type":"text","value":" class, which is defined in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pzfpRDAr2g"},{"type":"inlineCode","value":"utils/oa.py","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hUREwKfk8j"},{"type":"text","value":". It downloads all data products that are available on OpenAltimetry based on the inputs with which we initialized our ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"aKzgARZfgN"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"n0XSxASeJe"},{"type":"text","value":", and writes them to pandas dataframes.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"GUH4e8C0z9"}],"key":"C33RBPHPYt"}],"key":"xZ7BuAKB8a"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"is2data.requestData(verbose=True)","visibility":"show","key":"gIti5MxuSy"},{"type":"output","id":"vh944FI29OPhTtmmbpavk","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"---> requesting ATL03 data... 6314 data points.\n---> requesting ATL06 data... 194 data points.\n---> requesting ATL07 data... request failed.\n---> requesting ATL08 data... 26 data points.\n---> requesting ATL10 data... request failed.\n---> requesting ATL12 data... request failed.\n"}],"visibility":"show","key":"JYih9oSDcp"}],"visibility":"show","key":"hMQeojFSCC"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The data are now stored as data frames in our ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ss9XbmnACz"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KVKzVzWeLG"},{"type":"text","value":" object. To verify this, we can run the cell below.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y54qVxGgF6"}],"key":"qUew3Xhvwg"}],"key":"wpPmIB3yy6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"vars(is2data)","visibility":"show","key":"oP5SFyvNtl"},{"type":"output","id":"6oJv3udNVD6aVKxBbJYyC","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":65,"metadata":{},"data":{"text/plain":{"content":"{'url': 'https://openaltimetry.earthdatacloud.nasa.gov/data/api/icesat2/atlXX?minx=-23.9891&miny=77.5326&maxx=-23.9503&maxy=77.5722&date=2021-08-22&trackId=909&beamNames=gt1r&client=portal&outputFormat=json',\n 'date': '2021-08-22',\n 'track': 909,\n 'beam': 'gt1r',\n 'latlims': [77.5326, 77.5722],\n 'lonlims': [-23.9891, 77.5326],\n 'atl03':             lat        lon           h   conf\n 0     77.572273 -23.953864  748.409241  Noise\n 1     77.572246 -23.953913  847.594727  Noise\n 2     77.572247 -23.953895  785.343201  Noise\n 3     77.572232 -23.953941  906.424866  Noise\n 4     77.572222 -23.953903  739.359497  Noise\n ...         ...        ...         ...    ...\n 6309  77.532606 -23.986983  788.247559   High\n 6310  77.532600 -23.986988  787.683777   High\n 6311  77.532593 -23.986994  788.859985   High\n 6312  77.532594 -23.986993  786.800476   High\n 6313  77.532594 -23.986993  787.658264   High\n \n [6314 rows x 4 columns],\n 'atl06':            lat        lon           h\n 0    77.572104 -23.954022  810.224304\n 1    77.571928 -23.954170  809.449646\n 2    77.571751 -23.954318  808.569153\n 3    77.571575 -23.954466  808.484558\n 4    77.571398 -23.954613  808.140320\n ..         ...        ...         ...\n 189  77.533473 -23.986257  785.033386\n 190  77.533297 -23.986406  785.808105\n 191  77.533120 -23.986555  786.543274\n 192  77.532944 -23.986702  787.244507\n 193  77.532768 -23.986849  787.765320\n \n [194 rows x 3 columns],\n 'atl08':           lat        lon           h        canopy\n 0   77.571838 -23.954245  809.255493  3.402823e+38\n 1   77.570961 -23.954979  807.246216  3.402823e+38\n 2   77.570076 -23.955711  804.799744  3.402823e+38\n 3   77.569191 -23.956451  801.567993  3.410217e+00\n 4   77.568314 -23.957197  797.294250  3.402823e+38\n 5   77.567429 -23.957932  793.571960  3.175049e+00\n 6   77.566551 -23.958658  789.192017  2.079102e+00\n 7   77.565666 -23.959396  784.972778  1.745239e+00\n 8   77.564781 -23.960142  781.505920  3.402823e+38\n 9   77.563904 -23.960869  776.662964  2.394409e+00\n 10  77.563019 -23.961609  771.332397  6.974670e+00\n 11  77.562141 -23.962358  761.032227  1.180969e+01\n 12  77.544502 -23.977083  763.093262  8.813538e+00\n 13  77.543617 -23.977800  764.617065  8.257019e+00\n 14  77.542732 -23.978540  764.995605  7.054932e+00\n 15  77.541855 -23.979282  769.079590  4.145813e+00\n 16  77.540970 -23.980009  771.878052  3.402823e+38\n 17  77.540085 -23.980747  773.208191  3.402823e+38\n 18  77.539207 -23.981489  774.369629  3.402823e+38\n 19  77.538322 -23.982227  776.913086  3.402823e+38\n 20  77.537445 -23.982954  777.269653  3.402823e+38\n 21  77.536560 -23.983694  779.454041  3.402823e+38\n 22  77.535675 -23.984425  780.175171  3.590332e+00\n 23  77.534798 -23.985142  781.494263  3.402823e+38\n 24  77.533913 -23.985882  783.230103  3.402823e+38\n 25  77.533035 -23.986628  785.877747  3.402823e+38}","content_type":"text/plain"}}}],"visibility":"show","key":"enMkazmApQ"}],"visibility":"show","key":"jXRbtRknbQ"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting the ICESat-2 data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pDvTrt0aHS"}],"identifier":"plotting-the-icesat-2-data","label":"Plotting the ICESat-2 data","html_id":"plotting-the-icesat-2-data","implicit":true,"key":"LfUDoUgqT5"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now let’s plot this data. Here, we are just creating an empty figure ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cGNdBtloe8"},{"type":"inlineCode","value":"fig","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AK1lQTKDTp"},{"type":"text","value":" with axes ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Zwt117wImH"},{"type":"inlineCode","value":"ax","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"g4uk0Eg3hl"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"r2KC9oeef5"}],"key":"N3mf8e8w5S"}],"key":"i0gRDjKOZE"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# create the figure and axis\nfig, ax = plt.subplots(figsize=[9,5])\n\n# plot the data products\natl06, = ax.plot(is2data.atl06.lat, is2data.atl06.h, c='C0', linestyle='-', label='ATL06')\natl08, = ax.plot(is2data.atl08.lat, is2data.atl08.h, c='C2', linestyle=':', label='ATL08')\nif np.sum(~np.isnan(is2data.atl08.canopy))>0:\n    atl08canopy = ax.scatter(is2data.atl08.lat, is2data.atl08.h+is2data.atl08.canopy, s=2, c='C2', label='ATL08 canopy')\n\n# add labels, title and legend\nax.set_xlabel('latitude')\nax.set_ylabel('elevation in meters')\nax.set_title('Some ICESat-2 data I found on OpenAltimetry!')\nax.legend(loc='upper left')\n\n# add some text to provide info on what is plotted\ninfo = 'ICESat-2 track {track:d}-{beam:s} on {date:s}\\n({lon:.4f}E, {lat:.4f}N)'.format(track=is2data.track, \n                                                                                        beam=is2data.beam.upper(), \n                                                                                        date=is2data.date, \n                                                                                        lon=np.mean(is2data.lonlims), \n                                                                                        lat=np.mean(is2data.latlims))\ninfotext = ax.text(0.01, -0.08, info,\n                   horizontalalignment='left', \n                   verticalalignment='top', \n                   transform=ax.transAxes,\n                   fontsize=7,\n                   bbox=dict(edgecolor=None, facecolor='white', alpha=0.9, linewidth=0))\n\n# set the axis limits\nax.set_xlim((is2data.atl03.lat.min(), is2data.atl03.lat.max()))\nax.set_ylim((741, 818));","visibility":"show","key":"r0tDn8fsEs"},{"type":"output","id":"O1bx6m4lhaAidsln2aBAD","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"68753cf7151e20ed502f0a699ef32702","path":"/icesat2-cookbook/_preview/7/build/68753cf7151e20ed502f0a699ef32702.png"},"text/plain":{"content":"<Figure size 900x500 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"cqSpPfgTUM"}],"visibility":"show","key":"Nq5Q9DrLp9"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s add the ATL03 photons to better understand what might be going on here.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q8vLjAsBor"}],"key":"tNuIF64TWq"}],"key":"hxrRpcc0Ch"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"atl03 = ax.scatter(is2data.atl03.lat, is2data.atl03.h, s=1, color='black', label='ATL03', zorder=-1)\nax.legend(loc='upper left')\nfig.tight_layout()\ndisplay(fig)","visibility":"show","key":"WtLmItsVkk"},{"type":"output","id":"wOsuUNmyKhfsJO6uJTxcq","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8700e6677044f8aca8e489b49b2cb269","path":"/icesat2-cookbook/_preview/7/build/8700e6677044f8aca8e489b49b2cb269.png"},"text/plain":{"content":"<Figure size 900x500 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"zLMc87Nx7w"}],"visibility":"show","key":"wwQ8Prj9cN"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Saving the plot to a file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Dx6qXUyLpK"}],"identifier":"saving-the-plot-to-a-file","label":"Saving the plot to a file","html_id":"saving-the-plot-to-a-file","implicit":true,"key":"aWAvE2TpTU"}],"key":"qUEqPI0MZt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig.savefig('my-plot.jpg', dpi=300)","visibility":"show","key":"cOz7aBfgA4"},{"type":"output","id":"xh7ZQnbBWyzodXzWt-G-H","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"PCcx9yKeTS"}],"visibility":"show","key":"g7o4w4Mna2"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To make plots easier to produce, the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"piXcxdLPaL"},{"type":"inlineCode","value":"dataCollector","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rnkS363b28"},{"type":"text","value":" class also has a method to plot the data that we downloaded.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VGkBruIHei"}],"key":"s3P5pcthnP"}],"key":"lOoyRmJaXx"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = is2data.plotData();\nfig","visibility":"show","key":"V9XToCnAXu"},{"type":"output","id":"fpIBd3goVRCxn00_5EaAt","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":69,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d8c6460eb86119a278b828f384cfb98d","path":"/icesat2-cookbook/_preview/7/build/d8c6460eb86119a278b828f384cfb98d.png"},"text/plain":{"content":"<Figure size 800x500 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"z9UGf7zDBm"}],"visibility":"show","key":"HDj9QbWE90"},{"type":"block","kind":"notebook-content","data":{"tags":[],"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ground Track Stats","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kwZwaULaiQ"}],"identifier":"ground-track-stats","label":"Ground Track Stats","html_id":"ground-track-stats","implicit":true,"key":"fzOeh4ldjy"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"So far we have only seen the data in elevation vs. latitude space. It’s probably good to know what the scale on the x-axis is here in units that we’re familiar with.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SPSw4tREUq"}],"key":"UYosjYEaYG"}],"visibility":"show","key":"soO6K5t5iy"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def dist_latlon2meters(lat1, lon1, lat2, lon2):\n    # returns the distance between two coordinate points - (lon1, lat1) and (lon2, lat2) along the earth's surface in meters.\n    R = 6371000\n    def deg2rad(deg):\n        return deg * (np.pi/180)\n    dlat = deg2rad(lat2-lat1)\n    dlon = deg2rad(lon2-lon1)\n    a = np.sin(dlat/2) * np.sin(dlat/2) + np.cos(deg2rad(lat1)) * np.cos(deg2rad(lat2)) * np.sin(dlon/2) * np.sin(dlon/2)\n    c = 2 * np.arctan2(np.sqrt(a), np.sqrt(1-a))\n    return R * c\n\nlat1, lat2 = is2data.atl08.lat[0], is2data.atl08.lat.iloc[-1]\nlon1, lon2 = is2data.atl08.lon[0], is2data.atl08.lon.iloc[-1]\n\nground_track_length = dist_latlon2meters(lat1, lon1, lat2, lon2)\nprint('The ground track is about %.1f kilometers long.' % (ground_track_length/1e3))","visibility":"show","key":"LYeJjSJ1Qf"},{"type":"output","id":"1V2okTgu0-AxJtw6NZZL-","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"The ground track is about 4.4 kilometers long.\n"}],"visibility":"show","key":"w1x264vuif"}],"visibility":"show","key":"Aq76CXPHkH"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Google Earth Engine","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VZ718SRTQy"}],"identifier":"google-earth-engine","label":"Google Earth Engine","html_id":"google-earth-engine","implicit":true,"key":"i2kijCwuGw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Google Earth Engine (GEE) has a large ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"g1Xz7sXLvA"},{"type":"link","url":"https://developers.google.com/earth-engine/datasets","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O7o8U6zSci"}],"urlSource":"https://developers.google.com/earth-engine/datasets","key":"eqVAyUapt6"},{"type":"text","value":" of geospatial raster data, which is ready for analysis in the cloud. It also comes with an online JavaScript code editor.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H7ZMZzKG4s"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zsK0EJqcwn"},{"type":"image","url":"/icesat2-cookbook/_preview/7/build/697fd195613a884d70f9711b06c8e49f.png","alt":"gif showing how to get to the data in OpenAltimetry","width":"400px","key":"e1A8K85mAm","urlSource":"https://raw.githubusercontent.com/fliphilipp/images/main/gee_codeeditor.png"},{"type":"text","value":"\nBut since we all seem to be using python, it would be nice to have these capabilities available in our Jupyter comfort zone...","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MA6z8mUtzd"}],"key":"jKXZlAfk3J"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Thankfully, there is a ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WEIXtvsOVu"},{"type":"link","url":"https://developers.google.com/earth-engine/tutorials/community/intro-to-python-api","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"python API for GEE","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yvvNY8Oh4a"}],"urlSource":"https://developers.google.com/earth-engine/tutorials/community/intro-to-python-api","key":"gIXzoGkPKQ"},{"type":"text","value":", which we have imported using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RM4NCb45dx"},{"type":"inlineCode","value":"import ee","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"s7AiQ1dJ3C"},{"type":"text","value":" earlier. It doesn’t come with an interactive map, but the python package ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PN2U51gpDb"},{"type":"link","url":"https://geemap.org/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"geemap","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SyulENXUj8"}],"urlSource":"https://geemap.org/","key":"jtQNe0hqBs"},{"type":"text","value":" has us covered!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rvnobiNKSg"}],"key":"qcd96GHoX4"}],"key":"by1EX2zT1k"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Show a ground track on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BD9xZdfGxu"}],"identifier":"show-a-ground-track-on-a-map","label":"Show a ground track on a map","html_id":"show-a-ground-track-on-a-map","implicit":true,"key":"EqLzWIiOwD"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can start working on our map by calling ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eKOlQBMjst"},{"type":"inlineCode","value":"geemap.Map()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Z0dZ2KtLdi"},{"type":"text","value":". This just gives us a world map with a standard basemap.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VUuNqEM0GK"}],"key":"U4zcLzRa4b"}],"key":"NauGF8RFJq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from ipywidgets import Layout\nMap = geemap.Map(layout=Layout(width='70%', max_height='450px'))\nMap","visibility":"show","key":"jWo6y3v9MH"},{"type":"output","id":"EbomCT5CwhKys6-n1TiWm","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":71,"metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"34f86607034747099935f1a76297ea73\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Map(center=[0, 0], controls=(WidgetControl(options=['position', 'transparent_bg'], widget=SearchDataGUI(childr…","content_type":"text/plain"}}}],"visibility":"show","key":"ciTGY5MTYB"}],"visibility":"show","key":"VRh4a4r6qV"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now we need to add our ICESat-2 gound track to that map. Let’s use the lon/lat coordinates of the ATL08 data product for this.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TXAtyYokAd"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TS78v0AVpO"},{"type":"text","value":"We also need to specify which ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D3Wr7imkjY"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Coordinate Reference System (CRS)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yTL0monWxu"}],"key":"o0HSHxDDgs"},{"type":"text","value":" our data is in. The longitude/latitude system that we are all quite familiar with is referenced by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xobHoPCDff"},{"type":"link","url":"https://epsg.io/4326","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"EPSG:4326","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GZXQPwCbM1"}],"urlSource":"https://epsg.io/4326","key":"OEbD4EuLDH"},{"type":"text","value":". To add the ground track to the map we need to turn it into an ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hDt15QzZyo"},{"type":"link","url":"https://developers.google.com/earth-engine/guides/feature_collections","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Earth Engine “Feature Collection”","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pi3pNak0ZE"}],"urlSource":"https://developers.google.com/earth-engine/guides/feature_collections","key":"UcTcu20Hne"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UejX2AEhvJ"}],"key":"ao6WrWAHLV"}],"key":"iE13o1wqWp"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ground_track_coordinates = list(zip(is2data.atl08.lon, is2data.atl08.lat))\nground_track_projection = 'EPSG:4326' # <-- this specifies that our data longitude/latitude in degrees [https://epsg.io/4326]\ngtx_feature = ee.FeatureCollection(ee.Geometry.LineString(coords=ground_track_coordinates, \n                                      proj=ground_track_projection, \n                                      geodesic=True))\ngtx_feature","visibility":"show","key":"vS8f6YRQ2W"},{"type":"output","id":"5aSqRSTTEOROgUaLm6tEI","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/html":{"content":"<div><style>:root {\n  --font-color-primary: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --font-color-secondary: var(--jp-content-font-color2, rgba(0, 0, 0, 0.7));\n  --font-color-accent: rgba(123, 31, 162, 1);\n  --border-color: var(--jp-border-color2, #e0e0e0);\n  --background-color: var(--jp-layout-color0, white);\n  --background-color-row-even: var(--jp-layout-color1, white);\n  --background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --font-color-primary: rgba(255, 255, 255, 1);\n  --font-color-secondary: rgba(255, 255, 255, 0.7);\n  --font-color-accent: rgb(173, 132, 190);\n  --border-color: #2e2e2e;\n  --background-color: #111111;\n  --background-color-row-even: #111111;\n  --background-color-row-odd: #313131;\n}\n\n.eerepr {\n  padding: 1em;\n  line-height: 1.5em;\n  min-width: 300px;\n  max-width: 1200px;\n  overflow-y: scroll;\n  max-height: 600px;\n  border: 1px solid var(--border-color);\n  font-family: monospace;\n  font-size: 14px;\n}\n\n.eerepr li {\n  list-style-type: none;\n  margin: 0;\n}\n\n.eerepr ul {\n  padding-left: 1.5em !important;\n  margin: 0;\n}\n\n.eerepr > ul {\n  padding-left: 0 !important;\n}\n\n.eerepr summary {\n  color: var(--font-color-secondary);\n  cursor: pointer;\n  margin: 0;\n}\n\n.eerepr summary:hover {\n  color: var(--font-color-primary);\n  background-color: var(--background-color-row-odd)\n}\n\n.ee-k {\n  color: var(--font-color-accent);\n  margin-right: 6px;\n}\n\n.ee-v {\n  color: var(--font-color-primary);\n}\n\n.eerepr details > summary::before {\n  content: '▼';\n  display: inline-block;\n  margin-right: 6px;\n  transition: transform 0.2s;\n  transform: rotate(-90deg);\n}\n\n.eerepr details[open] > summary::before {\n  transform: rotate(0deg);\n}\n\n.eerepr details summary::-webkit-details-marker {\n  display:none;\n}\n\n.eerepr details summary {\n  list-style-type: none;\n}\n</style><div class='eerepr'><ul><li><details><summary>FeatureCollection (1 element, 1 column)</summary><ul><li><span class='ee-k'>type:</span><span class='ee-v'>FeatureCollection</span></li><li><details><summary>columns: Object (1 property)</summary><ul><li><span class='ee-k'>system:index:</span><span class='ee-v'>String</span></li></ul></details></li><li><details><summary>features: List (1 element)</summary><ul><li><details><summary>0: Feature (LineString, 0 properties)</summary><ul><li><span class='ee-k'>type:</span><span class='ee-v'>Feature</span></li><li><span class='ee-k'>id:</span><span class='ee-v'>0</span></li><li><details><summary>geometry: LineString (26 vertices)</summary><ul><li><span class='ee-k'>type:</span><span class='ee-v'>LineString</span></li><li><details><summary>coordinates: List (26 elements)</summary><ul><li><details><summary>0: [-23.95424461364746, 77.57183837890625]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.95424461364746</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.57183837890625</span></li></ul></details></li><li><details><summary>1: [-23.954978942871094, 77.57096099853516]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.954978942871094</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.57096099853516</span></li></ul></details></li><li><details><summary>2: [-23.955711364746094, 77.57007598876953]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.955711364746094</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.57007598876953</span></li></ul></details></li><li><details><summary>3: [-23.956451416015625, 77.5691909790039]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.956451416015625</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.5691909790039</span></li></ul></details></li><li><details><summary>4: [-23.957197189331055, 77.56831359863281]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.957197189331055</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56831359863281</span></li></ul></details></li><li><details><summary>5: [-23.957931518554688, 77.56742858886719]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.957931518554688</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56742858886719</span></li></ul></details></li><li><details><summary>6: [-23.95865821838379, 77.5665512084961]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.95865821838379</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.5665512084961</span></li></ul></details></li><li><details><summary>7: [-23.959396362304688, 77.56566619873047]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.959396362304688</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56566619873047</span></li></ul></details></li><li><details><summary>8: [-23.960142135620117, 77.56478118896484]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.960142135620117</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56478118896484</span></li></ul></details></li><li><details><summary>9: [-23.96086883544922, 77.56390380859375]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.96086883544922</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56390380859375</span></li></ul></details></li><li><details><summary>10: [-23.96160888671875, 77.56301879882812]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.96160888671875</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56301879882812</span></li></ul></details></li><li><details><summary>11: [-23.962358474731445, 77.56214141845703]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.962358474731445</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.56214141845703</span></li></ul></details></li><li><details><summary>12: [-23.977083206176758, 77.54450225830078]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.977083206176758</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54450225830078</span></li></ul></details></li><li><details><summary>13: [-23.977800369262695, 77.54361724853516]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.977800369262695</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54361724853516</span></li></ul></details></li><li><details><summary>14: [-23.978540420532227, 77.54273223876953]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.978540420532227</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54273223876953</span></li></ul></details></li><li><details><summary>15: [-23.97928237915039, 77.54185485839844]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.97928237915039</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54185485839844</span></li></ul></details></li><li><details><summary>16: [-23.980009078979492, 77.54096984863281]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.980009078979492</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54096984863281</span></li></ul></details></li><li><details><summary>17: [-23.98074722290039, 77.54008483886719]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.98074722290039</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.54008483886719</span></li></ul></details></li><li><details><summary>18: [-23.981489181518555, 77.5392074584961]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.981489181518555</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.5392074584961</span></li></ul></details></li><li><details><summary>19: [-23.982227325439453, 77.53832244873047]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.982227325439453</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53832244873047</span></li></ul></details></li><li><details><summary>20: [-23.982954025268555, 77.53744506835938]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.982954025268555</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53744506835938</span></li></ul></details></li><li><details><summary>21: [-23.983694076538086, 77.53656005859375]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.983694076538086</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53656005859375</span></li></ul></details></li><li><details><summary>22: [-23.984424591064453, 77.53567504882812]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.984424591064453</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53567504882812</span></li></ul></details></li><li><details><summary>23: [-23.98514175415039, 77.53479766845703]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.98514175415039</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53479766845703</span></li></ul></details></li><li><details><summary>24: [-23.985881805419922, 77.5339126586914]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.985881805419922</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.5339126586914</span></li></ul></details></li><li><details><summary>25: [-23.98662757873535, 77.53303527832031]</summary><ul><li><span class='ee-k'>0:</span><span class='ee-v'>-23.98662757873535</span></li><li><span class='ee-k'>1:</span><span class='ee-v'>77.53303527832031</span></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary>properties: Object (0 properties)</summary><ul></ul></details></li></ul></details></li></ul></details></li></ul></details></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<ee.featurecollection.FeatureCollection at 0x16a2415b0>","content_type":"text/plain"}}}],"visibility":"show","key":"g6ZGyUSQeS"}],"visibility":"show","key":"tXbNDQByDy"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have it in the right format, we can add it as a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SoiUpkbEQg"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"layer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U9K8ysM507"}],"key":"mFsBWrsQHz"},{"type":"text","value":" to the map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ATty6hrwa9"}],"key":"ACENvGML2g"}],"key":"sUc4P2dX1Q"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"Map.addLayer(gtx_feature, {'color': 'red'}, 'ground track')","visibility":"show","key":"zUpHNpSIbf"},{"type":"output","id":"tYluWHeouAKJBWegODCLy","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"ooVLL0JLIY"}],"visibility":"show","key":"bdUOKnrMtp"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"According to the cell above this should be a red line. But we still can’t see it, because we first need to tell the map where to look for it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QH5orCgqmm"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CiDjUrXFCz"},{"type":"text","value":"Let’s calculate the center longitude and latitude, and center the map on it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IqhO0mDC4V"}],"key":"sGJX685coi"}],"key":"vqwdyp3yky"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"center_lon = (lon1 + lon2) / 2\ncenter_lat = (lat1 + lat2) / 2\nMap.setCenter(center_lon, center_lat, zoom=7);","visibility":"show","key":"LblxN80FNC"},{"type":"output","id":"Nv7Go0kz7fcbLzfuRco-6","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"fRChxOi5D7"}],"visibility":"show","key":"NNze4ibUNs"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"So we actually couldn’t see it because it was in Greenland.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"COvFpfemc7"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e3TdSPDnM1"},{"type":"text","value":"Unfortunately the basemap here doesn’t give us much more information. Let’s add a satellite imagery basemap.\nThis is a good time to look at the layer control on the top right.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NVQf88sxmO"}],"key":"VEmJMaDPd6"}],"key":"eFX0aqCMnA"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"Map.add_basemap('SATELLITE') # <-- this adds a layer called 'Google Satellite'\nMap.setCenter(center_lon, center_lat, zoom=7);\nMap.addLayer(gtx_feature,{'color': 'red'},'ground track')","visibility":"show","key":"wLV5bAKvPO"},{"type":"output","id":"lxrHWNjdU661EXYUuVlFX","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"dUvOPHtBkn"}],"visibility":"show","key":"e5oh93vxIh"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"...looks like this basemap still doesn’t give us any more clues about the nature of this weird ICESat-2 data. Let’s dig deeper.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wjWLO4jK4U"}],"key":"R9aeUbhduZ"}],"key":"r7wMRS2qbt"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Query for Sentinel-2 images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eUdlfyuecT"}],"identifier":"query-for-sentinel-2-images","label":"Query for Sentinel-2 images","html_id":"query-for-sentinel-2-images","implicit":true,"key":"E3LCk9RqNX"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Both of these Sentinel-2 satellites take images of most places on our planet at least every week or so. Maybe these images can tell us what was happening here around the same time that ICESat-2 acquired our data?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dSkq6i2BGz"}],"key":"PkfgfrHu7a"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The imagery scenes live in image collections on Google Earth Engine.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YkbnPPPbg8"},{"type":"break","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YfI8Ty2Dex"},{"type":"text","value":"You can find all collections here: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ARD6OtYaS2"},{"type":"link","url":"https://developers.google.com/earth-engine/datasets/catalog/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"https://​developers​.google​.com​/earth​-engine​/datasets​/catalog/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"t3JaQW7NGh"}],"urlSource":"https://developers.google.com/earth-engine/datasets/catalog/","key":"mkWs0DDGiZ"}],"key":"OU2Ekf4UJk"}],"key":"CHI4wylzV9"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above link tells us we can find some images under ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ToEZGV3dVJ"},{"type":"inlineCode","value":"'COPERNICUS/S2_SR_HARMONIZED'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hYuVp85tJ1"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dD518mKL9z"}],"key":"wj9BSf4gga"}],"key":"u6D6INAJ0l"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection_name1 = 'COPERNICUS/S2_SR_HARMONIZED'  # Landsat 8 earth engine collection \n# https://developers.google.com/earth-engine/datasets/catalog/LANDSAT_LC08_C01_T2","visibility":"show","key":"Fuk264ghIZ"},{"type":"output","id":"4-NQCL72aqgvh3cWP_WiQ","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"UV0zITYLsA"}],"visibility":"show","key":"Lhfe7SjHds"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access an image collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJ671l8tDB"}],"identifier":"access-an-image-collection","label":"Access an image collection","html_id":"access-an-image-collection","implicit":true,"key":"ULKlDazI8z"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To access the collection, we call ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ezbznEA0pc"},{"type":"inlineCode","value":"ee.ImageCollection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Sj3fUmzOoL"},{"type":"text","value":":","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kuoEXyvFxs"}],"key":"Vi8kmnksLJ"}],"key":"QZW9PA9WxD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection = ee.ImageCollection(collection_name1)\ncollection","visibility":"show","key":"TJWYQjCmdb"},{"type":"output","id":"-QAl4kl8c1S8ULcF1_I4D","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":77,"metadata":{},"data":{"text/html":{"content":"<pre>&lt;ee.imagecollection.ImageCollection object at 0x16a264d10&gt;</pre>","content_type":"text/html"},"text/plain":{"content":"<ee.imagecollection.ImageCollection at 0x16a264d10>","content_type":"text/plain"}}}],"visibility":"show","key":"y2fgMw5vvU"}],"visibility":"show","key":"silWwQxOGZ"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Can we find out how many images there are in total?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s7Tm6WodTb"}],"key":"iIrCEYOwTj"}],"key":"Cm2z3uIcgj"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"number_of_scenes = collection.size()\nprint(number_of_scenes)","visibility":"show","key":"SQRkhO1oFB"},{"type":"output","id":"I872JfoSAy3laqb_hpANN","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"ee.Number({\n  \"functionInvocationValue\": {\n    \"functionName\": \"Collection.size\",\n    \"arguments\": {\n      \"collection\": {\n        \"functionInvocationValue\": {\n          \"functionName\": \"ImageCollection.load\",\n          \"arguments\": {\n            \"id\": {\n              \"constantValue\": \"COPERNICUS/S2_SR_HARMONIZED\"\n            }\n          }\n        }\n      }\n    }\n  }\n})\n"}],"visibility":"show","key":"sovgaLiOTM"}],"visibility":"show","key":"zuzwwAcjVj"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Actually, asking for the size of the collection does not do anything!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kWScHamGRZ"}],"key":"bu4myfTOOQ"},{"type":"text","value":" 🤔","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bHV8dcKg6b"}],"key":"Yy72w0QtiC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It just tells Earth Engine on the server-side that this variable refers to the size of the collection, which we may need later to do some analysis on the server. As long as this number is not needed, Earth Engine will not go through the trouble actually computing it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"y0gB3Hy4GZ"}],"key":"yScIrzrfko"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To force Earth Engine to compute and get any information on the client side (our local machine / Cryocloud), we need to call ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eu2Z8RxlN2"},{"type":"inlineCode","value":".getInfo()","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Gw9sZgoSQ4"},{"type":"text","value":". In this case that would be ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UgyCZLbJDc"},{"type":"inlineCode","value":"number_of_scenes = collection.size().getInfo()","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gdrcQCutIE"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"H5d00vj6zt"}],"key":"sW9dw4iU09"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Because this command would ask Earth Engine to count every single Sentinel-2 file that exists, this command would take a really long time to execute. I will avoid this here and just give you the answer from when I wrote this tutorial.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"js8KvgaNk0"}],"key":"LRSpy2W1y5"}],"key":"p2ui7ymjIp"}],"key":"Ta3UVfY76T"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# number_of_scenes = collection.size().getInfo()\nnumber_of_scenes = 19323842\nprint('There are %i number of scenes in the image collection' % number_of_scenes)","visibility":"show","key":"tMWKhb3Odt"},{"type":"output","id":"aBoProKPg5YtfcNa9iSBq","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"There are 19323842 number of scenes in the image collection\n"}],"visibility":"show","key":"luaY7Tvuqr"}],"visibility":"show","key":"SkEE5Z5Gof"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter an image collection by location and time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V3z3uiwr1Q"}],"identifier":"filter-an-image-collection-by-location-and-time","label":"Filter an image collection by location and time","html_id":"filter-an-image-collection-by-location-and-time","implicit":true,"key":"oBfT0iSD17"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Who wants to look at almost 20 million pictures? I don’t. So let’s try to narrow it down.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eOFxihO0mP"},{"type":"break","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iylOGjCdQv"},{"type":"text","value":"Let’s start with only images that overlap with the center of our ground track.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DXnU2jEUGg"}],"key":"t9O98MDBig"}],"key":"UMiIfi1e8P"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# the point of interest (center of the track) as an Earth Engine Geometry\npoint_of_interest = ee.Geometry.Point(center_lon, center_lat)","visibility":"show","key":"lorADMxu9e"},{"type":"output","id":"1-hFxHvAZL5NU6a9nve6j","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"Dmo4OP4jZJ"}],"visibility":"show","key":"VSFTiQrNCq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection = collection.filterBounds(point_of_interest)","visibility":"show","key":"O4ih6B0M3I"},{"type":"output","id":"L107jGYYsUz80-_aaEVqX","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"BlSEBxl347"}],"visibility":"show","key":"rR44xQRLJn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"print('There are {number:d} images in the spatially filtered collection.'.format(number=collection.size().getInfo()))","visibility":"show","key":"ZXulTvlGln"},{"type":"output","id":"f7sSFqFigonLe97ijuElm","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"There are 4056 images in the spatially filtered collection.\n"}],"visibility":"show","key":"kDT504fxSw"}],"visibility":"show","key":"xIKOY5KT4A"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Much better! Now let’s only look at images that were taken soon before or after ICESat-2 passed over this spot.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"REFNDIwpwC"}],"key":"jXGc9xeqGb"}],"key":"MMO8W2EcsS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"days_buffer_imagery = 6","visibility":"show","key":"pazLmiM3W4"},{"type":"output","id":"xnFlpV88X4RbMTwe9iROf","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"J6i6mZ8Y0z"}],"visibility":"show","key":"OE0Yq5stru"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dateformat = '%Y-%m-%d'\ndatetime_requested = datetime.strptime(is2data.date, dateformat)\nsearch_start = (datetime_requested - timedelta(days=days_buffer_imagery)).strftime(dateformat)\nsearch_end = (datetime_requested + timedelta(days=days_buffer_imagery)).strftime(dateformat)\nprint('Search for imagery from {start:s} to {end:s}.'.format(start=search_start, end=search_end))","visibility":"show","key":"yI7U1qWauC"},{"type":"output","id":"Kk1eTDaLUZxJqdPKcPPQt","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Search for imagery from 2021-08-16 to 2021-08-28.\n"}],"visibility":"show","key":"zZbwTaUnmq"}],"visibility":"show","key":"WX3qy0preO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection = collection.filterDate(search_start, search_end)\nprint('There are {number:d} images in the spatially filtered collection.'.format(number=collection.size().getInfo()))","visibility":"show","key":"hW69cY0PMh"},{"type":"output","id":"5xOjsr0JoGDsJ7GIQv8wv","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"There are 34 images in the spatially filtered collection.\n"}],"visibility":"show","key":"WwIwzm6BEi"}],"visibility":"show","key":"YaqbIQVhHo"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can also sort the collection by date (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"reOzT9NdyL"},{"type":"inlineCode","value":"'system:time_start'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vyd4UXfo6J"},{"type":"text","value":"), to order the images by acquisition time.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VXv1Q1lAz6"}],"key":"UtQg0Zlkbl"}],"key":"q6H0Nh3HB3"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection = collection.sort('system:time_start') ","visibility":"show","key":"aMsMPTCMw3"},{"type":"output","id":"JDySdO5gBX3GpamAiGxMQ","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"DyiaqwH5Us"}],"visibility":"show","key":"GS6ySJetGI"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get image collection info","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tmx2Uc402B"}],"identifier":"get-image-collection-info","label":"Get image collection info","html_id":"get-image-collection-info","implicit":true,"key":"zAtir9tho3"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Again, we need to use ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"jThAiaShM6"},{"type":"inlineCode","value":".getInfo()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"l7AWbthe8X"},{"type":"text","value":" to actually see any information on our end. This is a python dictionary.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zBK63e5HBb"}],"key":"HRd6kknZKW"}],"key":"o9CKBezKJx"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"info = collection.getInfo()\ntype(info)","visibility":"show","key":"uUNtfXzcuw"},{"type":"output","id":"SB6fxf7S4SEKahkqxhxnf","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":87,"metadata":{},"data":{"text/plain":{"content":"dict","content_type":"text/plain"}}}],"visibility":"show","key":"OEnnbz5sH2"}],"visibility":"show","key":"YQ6Omp37GV"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s see what’s inside!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tazIOAFv8D"}],"key":"U6J4abcZmo"}],"key":"mGO1EQ0Usp"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"info.keys()","visibility":"show","key":"nv04nMwZcc"},{"type":"output","id":"KkEK-rFS957KMKvTtoPm4","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":88,"metadata":{},"data":{"text/plain":{"content":"dict_keys(['type', 'bands', 'version', 'id', 'properties', 'features'])","content_type":"text/plain"}}}],"visibility":"show","key":"KaJGVhIXo8"}],"visibility":"show","key":"sft5UI26fa"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"'features'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OLl9X9Ry9q"},{"type":"text","value":" sounds like it could hold information about the images we are trying to find...","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uXpoKKlfRQ"}],"key":"Yr83yL11gE"}],"key":"IilTt9IoQJ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"len(info['features'])","visibility":"show","key":"bwRyjj6WYL"},{"type":"output","id":"M4uPqfyQILedzQnvcnRMZ","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":89,"metadata":{},"data":{"text/plain":{"content":"34","content_type":"text/plain"}}}],"visibility":"show","key":"WMcJYc9E3U"}],"visibility":"show","key":"F9O0auO1gM"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A list of 34 things! Those are probably the 34 images in the collection. Let’s pick the first one and dig deeper!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U0Q3DQre8w"}],"key":"xV7eS7EUpE"}],"key":"kaaMVOCwEk"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"feature_number = 0\ninfo['features'][0].keys()","visibility":"show","key":"VZOlbMlAYy"},{"type":"output","id":"SPUZIPn5mHOO8UWEn7DJ2","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/plain":{"content":"dict_keys(['type', 'bands', 'version', 'id', 'properties'])","content_type":"text/plain"}}}],"visibility":"show","key":"TCOHJZwcLC"}],"visibility":"show","key":"JbdLkeM0jm"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"info['features'][feature_number]['id']","visibility":"show","key":"iT2xM38Caj"},{"type":"output","id":"dK7M2_kPkn7cgcG6mNKW2","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content":"'COPERNICUS/S2_SR_HARMONIZED/20210816T150759_20210816T150915_T27XVG'","content_type":"text/plain"}}}],"visibility":"show","key":"LaIJxf4yap"}],"visibility":"show","key":"vuLOWIuGS3"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looks like we found a reference to a Sentinel-2 image! Let’s look at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dSSQHniHbX"},{"type":"inlineCode","value":"'bands'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oYqzvz8S5X"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yMBrHuxWUG"}],"key":"eZS9PE5Qir"}],"key":"mlValCVtYc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for band in info['features'][feature_number]['bands']:\n    print(band['id'], end=', ')","visibility":"show","key":"RyqFxzVCqE"},{"type":"output","id":"g2E2UR6fQx2_JANSH8qMQ","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"B1, B2, B3, B4, B5, B6, B7, B8, B8A, B9, B11, B12, AOT, WVP, SCL, TCI_R, TCI_G, TCI_B, MSK_CLDPRB, MSK_SNWPRB, QA10, QA20, QA60, MSK_CLASSI_OPAQUE, MSK_CLASSI_CIRRUS, MSK_CLASSI_SNOW_ICE, "}],"visibility":"show","key":"dEZl6o3Fcl"}],"visibility":"show","key":"BcaAlbna9I"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"'properties'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QLBxNWCouv"},{"type":"text","value":" could be useful too!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zeK4LWtPHp"}],"key":"ZX8znhrpuy"}],"key":"UYSRQXx8wa"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"info['features'][0]['properties'].keys()","visibility":"show","key":"lkFbqdgLUV"},{"type":"output","id":"wc1dWFxxVo2wk0MTpac6N","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":93,"metadata":{},"data":{"text/plain":{"content":"dict_keys(['DATATAKE_IDENTIFIER', 'AOT_RETRIEVAL_ACCURACY', 'SPACECRAFT_NAME', 'SATURATED_DEFECTIVE_PIXEL_PERCENTAGE', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B8A', 'CLOUD_SHADOW_PERCENTAGE', 'MEAN_SOLAR_AZIMUTH_ANGLE', 'system:footprint', 'VEGETATION_PERCENTAGE', 'SOLAR_IRRADIANCE_B12', 'SOLAR_IRRADIANCE_B10', 'SENSOR_QUALITY', 'SOLAR_IRRADIANCE_B11', 'GENERATION_TIME', 'SOLAR_IRRADIANCE_B8A', 'FORMAT_CORRECTNESS', 'CLOUD_COVERAGE_ASSESSMENT', 'THIN_CIRRUS_PERCENTAGE', 'system:time_end', 'WATER_VAPOUR_RETRIEVAL_ACCURACY', 'system:time_start', 'DATASTRIP_ID', 'PROCESSING_BASELINE', 'SENSING_ORBIT_NUMBER', 'NODATA_PIXEL_PERCENTAGE', 'SENSING_ORBIT_DIRECTION', 'GENERAL_QUALITY', 'GRANULE_ID', 'REFLECTANCE_CONVERSION_CORRECTION', 'MEDIUM_PROBA_CLOUDS_PERCENTAGE', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B8', 'DATATAKE_TYPE', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B9', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B6', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B7', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B4', 'MEAN_INCIDENCE_ZENITH_ANGLE_B1', 'NOT_VEGETATED_PERCENTAGE', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B5', 'RADIOMETRIC_QUALITY', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B2', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B3', 'MEAN_INCIDENCE_ZENITH_ANGLE_B5', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B1', 'MEAN_INCIDENCE_ZENITH_ANGLE_B4', 'MEAN_INCIDENCE_ZENITH_ANGLE_B3', 'MEAN_INCIDENCE_ZENITH_ANGLE_B2', 'MEAN_INCIDENCE_ZENITH_ANGLE_B9', 'MEAN_INCIDENCE_ZENITH_ANGLE_B8', 'MEAN_INCIDENCE_ZENITH_ANGLE_B7', 'DARK_FEATURES_PERCENTAGE', 'HIGH_PROBA_CLOUDS_PERCENTAGE', 'MEAN_INCIDENCE_ZENITH_ANGLE_B6', 'UNCLASSIFIED_PERCENTAGE', 'MEAN_SOLAR_ZENITH_ANGLE', 'MEAN_INCIDENCE_ZENITH_ANGLE_B8A', 'RADIATIVE_TRANSFER_ACCURACY', 'MGRS_TILE', 'CLOUDY_PIXEL_PERCENTAGE', 'PRODUCT_ID', 'MEAN_INCIDENCE_ZENITH_ANGLE_B10', 'SOLAR_IRRADIANCE_B9', 'SNOW_ICE_PERCENTAGE', 'DEGRADED_MSI_DATA_PERCENTAGE', 'MEAN_INCIDENCE_ZENITH_ANGLE_B11', 'MEAN_INCIDENCE_ZENITH_ANGLE_B12', 'SOLAR_IRRADIANCE_B6', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B10', 'SOLAR_IRRADIANCE_B5', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B11', 'SOLAR_IRRADIANCE_B8', 'MEAN_INCIDENCE_AZIMUTH_ANGLE_B12', 'SOLAR_IRRADIANCE_B7', 'SOLAR_IRRADIANCE_B2', 'SOLAR_IRRADIANCE_B1', 'SOLAR_IRRADIANCE_B4', 'GEOMETRIC_QUALITY', 'SOLAR_IRRADIANCE_B3', 'system:asset_size', 'WATER_PERCENTAGE', 'system:index'])","content_type":"text/plain"}}}],"visibility":"show","key":"SI9rFaM5fc"}],"visibility":"show","key":"ik9rrm25jl"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s a lot going on right there! But ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nsiabWSkHB"},{"type":"inlineCode","value":"'GRANULE_ID'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DbQxrtj5Ha"},{"type":"text","value":" is probably useful. Let’s go through all our features and print the product id.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ghv5tC58rP"}],"key":"Ks05keU8nh"}],"key":"MSXQN7U0h6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for feature in info['features']:\n    print(feature['properties']['GRANULE_ID'])","visibility":"show","key":"NdCwofsX8H"},{"type":"output","id":"FEtrdpsV9JUx9z1Bn4MvV","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"L2A_T27XVG_A023217_20210816T150915\nL2A_T26XNM_A023217_20210816T150915\nL2A_T27XVG_A023231_20210817T143747\nL2A_T26XNM_A023231_20210817T143747\nL2A_T27XVG_A032140_20210817T152909\nL2A_T26XNM_A032140_20210817T152909\nL2A_T27XVG_A032154_20210818T145938\nL2A_T26XNM_A032154_20210818T145938\nL2A_T27XVG_A032168_20210819T142935\nL2A_T26XNM_A032168_20210819T142935\nL2A_T27XVG_A023260_20210819T151803\nL2A_T26XNM_A023260_20210819T151803\nL2A_T27XVG_A023274_20210820T144750\nL2A_T26XNM_A023274_20210820T144750\nL2A_T27XVG_A032197_20210821T150913\nL2A_T26XNM_A032197_20210821T150913\nL2A_T27XVG_A032211_20210822T143925\nL2A_T26XNM_A032211_20210822T143925\nL2A_T27XVG_A023303_20210822T152807\nL2A_T26XNM_A023303_20210822T152807\nL2A_T27XVG_A023317_20210823T145754\nL2A_T26XNM_A023317_20210823T145754\nL2A_T27XVG_A023331_20210824T142741\nL2A_T26XNM_A023331_20210824T142741\nL2A_T27XVG_A032240_20210824T151911\nL2A_T26XNM_A032240_20210824T151911\nL2A_T27XVG_A032254_20210825T144920\nL2A_T26XNM_A032254_20210825T144920\nL2A_T27XVG_A023360_20210826T150906\nL2A_T26XNM_A023360_20210826T150906\nL2A_T27XVG_A023374_20210827T143745\nL2A_T26XNM_A023374_20210827T143745\nL2A_T27XVG_A032283_20210827T152908\nL2A_T26XNM_A032283_20210827T152908\n"}],"visibility":"show","key":"xOYI8gPjTV"}],"visibility":"show","key":"xvY66MEgYK"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add a Sentinel-2 image to the map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GO14ZQsJRc"}],"identifier":"add-a-sentinel-2-image-to-the-map","label":"Add a Sentinel-2 image to the map","html_id":"add-a-sentinel-2-image-to-the-map","implicit":true,"key":"NJW7ffiPTa"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The visible bands in Sentinel-2 are ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lEhGAfYYCU"},{"type":"inlineCode","value":"'B2'","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"n1TVNYOekg"},{"type":"text","value":":blue, ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QVVw3osvtN"},{"type":"inlineCode","value":"'B3'","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SswzDJ3Yzq"},{"type":"text","value":":green, ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fIT8Lnjk8D"},{"type":"inlineCode","value":"'B4'","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DLYiM0MgS8"},{"type":"text","value":":red.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KZSjAe45PM"},{"type":"break","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QVpIpTPusH"},{"type":"text","value":"So to show a “true color” RGB composite image on the map, we need to select these bands in the R-G-B order:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"WoBKL9gEui"}],"key":"Jo56G9NN1Q"}],"key":"f20q6FbMhH"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"myImage = collection.first()\nmyImage_RGB = myImage.select('B4', 'B3', 'B2')\nvis_params = {'min': 0.0, 'max': 10000, 'opacity': 1.0, 'gamma': 1.5}\nMap.addLayer(myImage_RGB, vis_params, name='my image')\nMap.addLayer(gtx_feature,{'color': 'red'},'ground track')\nMap","visibility":"show","key":"zHKxUyJnqL"},{"type":"output","id":"5ux8YT31Su5oZThU4j8MI","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":95,"metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"34f86607034747099935f1a76297ea73\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Map(center=[np.float64(77.55243682861328), np.float64(-23.970436096191406)], controls=(WidgetControl(options=[…","content_type":"text/plain"}}}],"visibility":"show","key":"XwxKOlcYJR"}],"visibility":"show","key":"uO78L4EZiR"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This seems to have worked. But there’s clouds everywhere.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XbQMpjlnYq"}],"key":"hZ5JEyRAcN"}],"key":"cJAbH1ftCl"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate the along-track cloud probability","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dbv9qr1hEY"}],"identifier":"calculate-the-along-track-cloud-probability","label":"Calculate the along-track cloud probability","html_id":"calculate-the-along-track-cloud-probability","implicit":true,"key":"kpqrq7DJsR"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We need a better approach to get anywhere here. To do this, we use not only the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"shzng6kXbB"},{"type":"link","url":"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Sentinel-2 Surface Reflectance image collection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qUlNxax8DH"}],"urlSource":"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED","key":"ASocWaRxKa"},{"type":"text","value":", but also merge it with the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kp3qsHIwvu"},{"type":"link","url":"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_CLOUD_PROBABILITY","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Sentinel-2 cloud probability collection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VJiw53bblx"}],"urlSource":"https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_CLOUD_PROBABILITY","key":"Sbxar0IjVo"},{"type":"text","value":", which can be accessed under ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"rT5wnpMybg"},{"type":"inlineCode","value":"COPERNICUS/S2_CLOUD_PROBABILITY","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Uj8GdKgIXC"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YIFwQ9k3Wp"}],"key":"FgqpMuk9Xp"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Let’s specify a function that adds the cloud probability band to each Sentinel-2 image and calcultes the mean cloud probability in the neighborhood of the ICESat-2 ground track, then map this function over our location/date filtered collection.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sX3S2UpxfV"}],"key":"oQzqYeDiP5"}],"key":"MizWPTaRDU"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def get_sentinel2_cloud_collection(is2data, days_buffer=6, gt_buffer=100):\n    \n    # create the area of interest for cloud likelihood assessment\n    ground_track_coordinates = list(zip(is2data.atl08.lon, is2data.atl08.lat))\n    ground_track_projection = 'EPSG:4326' # our data is lon/lat in degrees [https://epsg.io/4326]\n    gtx_feature = ee.Geometry.LineString(coords=ground_track_coordinates,\n                                     proj=ground_track_projection,\n                                     geodesic=True)\n    area_of_interest = gtx_feature.buffer(gt_buffer)\n    \n    datetime_requested = datetime.strptime(is2data.date, '%Y-%m-%d')\n    start_date = (datetime_requested - timedelta(days=days_buffer)).strftime('%Y-%m-%dT%H:%M:%S')\n    end_date = (datetime_requested + timedelta(days=days_buffer)).strftime('%Y-%m-%dT%H:%M:%S')\n    print('Search for imagery from {start:s} to {end:s}.'.format(start=start_date, end=end_date))\n    \n    # Import and filter S2 SR HARMONIZED\n    s2_sr_collection = (ee.ImageCollection('COPERNICUS/S2_SR_HARMONIZED')\n        .filterBounds(area_of_interest)\n        .filterDate(start_date, end_date))\n\n    # Import and filter s2cloudless.\n    s2_cloudless_collection = (ee.ImageCollection('COPERNICUS/S2_CLOUD_PROBABILITY')\n        .filterBounds(area_of_interest)\n        .filterDate(start_date, end_date))\n\n    # Join the filtered s2cloudless collection to the SR collection by the 'system:index' property.\n    cloud_collection = ee.ImageCollection(ee.Join.saveFirst('s2cloudless').apply(**{\n        'primary': s2_sr_collection, 'secondary': s2_cloudless_collection,\n        'condition': ee.Filter.equals(**{'leftField': 'system:index','rightField': 'system:index'})}))\n\n    cloud_collection = cloud_collection.map(lambda img: img.addBands(ee.Image(img.get('s2cloudless')).select('probability')))\n    \n    def set_is2_cloudiness(img, aoi=area_of_interest):\n        cloudprob = img.select(['probability']).reduceRegion(reducer=ee.Reducer.mean(), \n                                                             geometry=aoi, \n                                                             bestEffort=True, \n                                                             maxPixels=1e6)\n        return img.set('ground_track_cloud_prob', cloudprob.get('probability'))\n    \n    return cloud_collection.map(set_is2_cloudiness)","visibility":"show","key":"b8Z7WYny6q"},{"type":"output","id":"pl89Imt_h1eJNDMR7A7cH","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"RGaRnrxHwU"}],"visibility":"show","key":"cliCFnKEaM"},{"type":"block","kind":"notebook-content","data":{"tags":[],"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get this collection for our ICESat-2 data, and print all the granule IDs and associated cloudiness over the ground track.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aVPe0xzrxp"}],"key":"ZWR5oQExpO"}],"visibility":"show","key":"eY270dHw1t"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collection = get_sentinel2_cloud_collection(is2data)\ninfo = collection.getInfo()\nfor feature in info['features']:\n    print('%s --> along-track cloud probability: %5.1f %%' % (feature['properties']['GRANULE_ID'],\n                                                              feature['properties']['ground_track_cloud_prob']))","visibility":"show","key":"tvr7tY8O02"},{"type":"output","id":"8hkZHUFymh4JCzQxRQG4v","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Search for imagery from 2021-08-16T00:00:00 to 2021-08-28T00:00:00.\nL2A_T26XNM_A023217_20210816T150915 --> along-track cloud probability:  89.7 %\nL2A_T27XVG_A023217_20210816T150915 --> along-track cloud probability:  89.7 %\nL2A_T26XNM_A023231_20210817T143747 --> along-track cloud probability:   4.5 %\nL2A_T27XVG_A023231_20210817T143747 --> along-track cloud probability:   4.6 %\nL2A_T26XNM_A032140_20210817T152909 --> along-track cloud probability:  12.1 %\nL2A_T27XVG_A032140_20210817T152909 --> along-track cloud probability:  12.1 %\nL2A_T26XNM_A032154_20210818T145938 --> along-track cloud probability:  10.3 %\nL2A_T27XVG_A032154_20210818T145938 --> along-track cloud probability:  10.1 %\nL2A_T26XNM_A032168_20210819T142935 --> along-track cloud probability:  12.9 %\nL2A_T27XVG_A032168_20210819T142935 --> along-track cloud probability:  12.8 %\nL2A_T26XNM_A023260_20210819T151803 --> along-track cloud probability:   9.8 %\nL2A_T27XVG_A023260_20210819T151803 --> along-track cloud probability:   9.9 %\nL2A_T26XNM_A023274_20210820T144750 --> along-track cloud probability:   1.3 %\nL2A_T27XVG_A023274_20210820T144750 --> along-track cloud probability:   1.3 %\nL2A_T26XNM_A032197_20210821T150913 --> along-track cloud probability:  20.2 %\nL2A_T27XVG_A032197_20210821T150913 --> along-track cloud probability:  20.3 %\nL2A_T26XNM_A032211_20210822T143925 --> along-track cloud probability:  14.8 %\nL2A_T27XVG_A032211_20210822T143925 --> along-track cloud probability:  14.8 %\nL2A_T26XNM_A023303_20210822T152807 --> along-track cloud probability:  15.7 %\nL2A_T27XVG_A023303_20210822T152807 --> along-track cloud probability:  15.8 %\nL2A_T26XNM_A023317_20210823T145754 --> along-track cloud probability:   5.6 %\nL2A_T27XVG_A023317_20210823T145754 --> along-track cloud probability:   5.5 %\nL2A_T26XNM_A023331_20210824T142741 --> along-track cloud probability:   8.0 %\nL2A_T27XVG_A023331_20210824T142741 --> along-track cloud probability:   7.9 %\nL2A_T26XNM_A032240_20210824T151911 --> along-track cloud probability:   7.5 %\nL2A_T27XVG_A032240_20210824T151911 --> along-track cloud probability:   7.5 %\nL2A_T26XNM_A032254_20210825T144920 --> along-track cloud probability:   7.7 %\nL2A_T27XVG_A032254_20210825T144920 --> along-track cloud probability:   7.8 %\nL2A_T26XNM_A023360_20210826T150906 --> along-track cloud probability:  15.8 %\nL2A_T27XVG_A023360_20210826T150906 --> along-track cloud probability:  15.8 %\nL2A_T26XNM_A023374_20210827T143745 --> along-track cloud probability:  10.3 %\nL2A_T27XVG_A023374_20210827T143745 --> along-track cloud probability:  10.1 %\nL2A_T26XNM_A032283_20210827T152908 --> along-track cloud probability:   9.8 %\nL2A_T27XVG_A032283_20210827T152908 --> along-track cloud probability:   9.8 %\n"}],"visibility":"show","key":"hqawD4bTJv"}],"visibility":"show","key":"NB0rW5JzuR"},{"type":"block","kind":"notebook-content","data":{"tags":[],"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter cloudy images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LbjFQD35TW"}],"identifier":"filter-cloudy-images","label":"Filter cloudy images","html_id":"filter-cloudy-images","implicit":true,"key":"rjbDen3J7D"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We specify a certain cloud probability threshold, and then only keep the images that fall below it. Here we are choosing a quite aggressive value of maximum 5% cloud probability...","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QC2bCCZCAA"}],"key":"VnXkyix6K9"}],"visibility":"show","key":"Jc03aoWSUs"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# filter by maximum allowable cloud probability (in percent)\nMAX_CLOUD_PROB_ALONG_TRACK = 5\ncloudfree_collection = collection.filter(ee.Filter.lt('ground_track_cloud_prob', MAX_CLOUD_PROB_ALONG_TRACK))\nprint('There are %i cloud-free scenes.' % cloudfree_collection.size().getInfo())","visibility":"show","key":"VkRjdKSVWz"},{"type":"output","id":"Rvx3DOvFSj-Ds8kivY--S","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"There are 4 cloud-free scenes.\n"}],"visibility":"show","key":"E68jZe5nJf"}],"visibility":"show","key":"Iug4HVeuro"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Sort the collection by time difference from the ICESat-2 overpass","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DGHh6BMHMl"}],"identifier":"sort-the-collection-by-time-difference-from-the-icesat-2-overpass","label":"Sort the collection by time difference from the ICESat-2 overpass","html_id":"sort-the-collection-by-time-difference-from-the-icesat-2-overpass","implicit":true,"key":"iY1rpgGE8n"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Using the image property ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SAuilfi8eD"},{"type":"inlineCode","value":"'system:time_start'","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sc160HiLEH"},{"type":"text","value":" we can calculate the time difference from the ICESat-2 overpass and set it as a property. This allows us to sort the collection by it and to make sure that the first image in the collection is the closest-in-time to ICESat-2 image that is also cloud-free.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lQX2Vstfjy"}],"key":"gYFcYKochE"}],"key":"mWna0MFdb3"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# get the time difference between ICESat-2 overpass and Sentinel-2 acquisitions, set as image property\nis2time = is2data.date + 'T12:00:00'\ndef set_time_difference(img, is2time=is2time):\n    timediff = ee.Date(is2time).difference(img.get('system:time_start'), 'second').abs()\n    return img.set('timediff', timediff)\ncloudfree_collection = cloudfree_collection.map(set_time_difference).sort('timediff')","visibility":"show","key":"otDk1HVTD6"},{"type":"output","id":"7Oq7zLBiGT17-j0NIw-tU","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"sx3YG9KROO"}],"visibility":"show","key":"t7cwGTXYLH"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Print some stats for the final collection to make sure everything looks alright.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IqiKXFk6vO"}],"key":"iswrTFGMJu"}],"key":"MsH3zLg2Vc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"info = cloudfree_collection.getInfo()\nfor feature in info['features']:\n    s2datetime = datetime.fromtimestamp(feature['properties']['system:time_start']/1e3)\n    is2datetime = datetime.strptime(is2time, '%Y-%m-%dT%H:%M:%S')\n    timediff = s2datetime - is2datetime\n    timediff -= timedelta(microseconds=timediff.microseconds)\n    diffsign = 'before' if timediff < timedelta(0) else 'after'\n    print('%s --> along-track cloud probability: %5.1f %%, %s %7s ICESat-2' % (feature['properties']['GRANULE_ID'],\n              feature['properties']['ground_track_cloud_prob'],np.abs(timediff), diffsign))","visibility":"show","key":"yEazYofsbi"},{"type":"output","id":"ic_4gstqGtbzCpnGqjqwH","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"L2A_T26XNM_A023274_20210820T144750 --> along-track cloud probability:   1.3 %, 2 days, 4:09:34  before ICESat-2\nL2A_T27XVG_A023274_20210820T144750 --> along-track cloud probability:   1.3 %, 2 days, 4:09:38  before ICESat-2\nL2A_T26XNM_A023231_20210817T143747 --> along-track cloud probability:   4.5 %, 5 days, 4:19:32  before ICESat-2\nL2A_T27XVG_A023231_20210817T143747 --> along-track cloud probability:   4.6 %, 5 days, 4:19:36  before ICESat-2\n"}],"visibility":"show","key":"siDkMgfkBx"}],"visibility":"show","key":"T9sA770psc"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Show the final image and ground track on the map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KCkAjsh2nl"}],"identifier":"show-the-final-image-and-ground-track-on-the-map","label":"Show the final image and ground track on the map","html_id":"show-the-final-image-and-ground-track-on-the-map","implicit":true,"key":"vNEvOq340x"}],"key":"dZk5IGXWaK"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"first_image_rgb = cloudfree_collection.first().select('B4', 'B3', 'B2')\nMap = geemap.Map(layout=Layout(width='70%', max_height='450px'))\nMap.add_basemap('SATELLITE')\nMap.addLayer(first_image_rgb, vis_params, name='my image')\nMap.addLayer(gtx_feature,{'color': 'red'},'ground track')\nMap.centerObject(gtx_feature, zoom=12)\nMap","visibility":"show","key":"B3Hp0YRoNp"},{"type":"output","id":"W0eTbiwFxbDaNXZVjTjss","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":101,"metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"88c98b8e50f940dda418e9768a0ace0e\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Map(center=[77.55243721126286, -23.970458522024117], controls=(WidgetControl(options=['position', 'transparent…","content_type":"text/plain"}}}],"visibility":"show","key":"vP228icE4v"}],"visibility":"show","key":"hZpcCT4TmV"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download images from Earth Engine","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"feKldVFfh1"}],"identifier":"download-images-from-earth-engine","label":"Download images from Earth Engine","html_id":"download-images-from-earth-engine","implicit":true,"key":"Js36b7jbBH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rIpethu0w6"},{"type":"link","url":"https://developers.google.com/earth-engine/apidocs/ee-image-getdownloadurl","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":".getDownloadUrl()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XQ1PFHr2mz"}],"urlSource":"https://developers.google.com/earth-engine/apidocs/ee-image-getdownloadurl","key":"ygxijrZ6hV"},{"type":"text","value":" on an Earth Engine image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hLRnlK9N1b"}],"key":"WpDqxZ0bIR"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"It asks for a scale, which is just the pixel size in meters (10 m for Sentinel-2 visible bands). It also asks for the region we would like to export; here we use a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CEQjKoLuhs"},{"type":"link","url":"https://developers.google.com/earth-engine/apidocs/ee-geometry-buffer","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":".buffer","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UOLynSCr6V"}],"urlSource":"https://developers.google.com/earth-engine/apidocs/ee-geometry-buffer","key":"hNYcbWZeIu"},{"type":"text","value":" around the center.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bWBC29xSnv"}],"key":"x656jnlw3z"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"(Note: This function can only be effectively used for small download jobs because there is a request size limit. Here, we only download a small region around the ground track, and convert the image to an 8-bit RGB composite to keep file size low. For larger jobs you should use ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hjpcRy4IQq"},{"type":"link","url":"https://developers.google.com/earth-engine/apidocs/export-image-todrive","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"Export.image.toDrive","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ws20taSGsN"}],"urlSource":"https://developers.google.com/earth-engine/apidocs/export-image-todrive","key":"yjtHVoiZ5D"},{"type":"text","value":")","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ab2JQIKLeU"}],"key":"zVwZeYoecm"}],"key":"F7vb30lUCK"}],"key":"g1bl7cNPer"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# create a region around the ground track over which to download data\npoint_of_interest = ee.Geometry.Point(center_lon, center_lat)\nbuffer_around_center_meters = ground_track_length*0.52\nregion_of_interest = point_of_interest.buffer(buffer_around_center_meters)\n\n# make the image 8-bit RGB\ns2rgb = first_image_rgb.unitScale(ee.Number(0), ee.Number(10000)).clamp(0.0, 1.0).multiply(255.0).uint8()\n\n# get the download URL\ndownloadURL = s2rgb.getDownloadUrl({'name': 'mySatelliteImage',\n                                          'crs': s2rgb.projection().crs(),\n                                          'scale': 10,\n                                          'region': region_of_interest,\n                                          'filePerBand': False,\n                                          'format': 'GEO_TIFF'})\ndownloadURL","visibility":"show","key":"FeBsml9RwF"},{"type":"output","id":"7xWepCZlUGm9Mj2FNVmNo","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":102,"metadata":{},"data":{"text/plain":{"content":"'https://earthengine.googleapis.com/v1/projects/995399951136/thumbnails/379edef29d5780364f154c11d047e8a4-1625732f667ec3b9893fb8a4a8c034ef:getPixels'","content_type":"text/plain"}}}],"visibility":"show","key":"H9rwhqYeTs"}],"visibility":"show","key":"ydaen9motI"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can save the content of the download URL with the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WjOMyMLeEl"},{"type":"link","url":"https://docs.python-requests.org/en/latest/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"requests","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pgfx4Y04WL"}],"urlSource":"https://docs.python-requests.org/en/latest/","key":"XzZsEFyCnr"},{"type":"text","value":" library.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VnJl0f0GRY"}],"key":"OrR2CEBZnc"}],"key":"JhA09saLQp"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"response = requests.get(downloadURL)\nfilename = 'my-satellite-image.tif'\nwith open(filename, 'wb') as f:\n    f.write(response.content)\nprint('Downloaded %s' % filename)","visibility":"show","key":"LgFqEPyCJE"},{"type":"output","id":"o3ufbRYPGxZsZyEQgtdjJ","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Downloaded my-satellite-image.tif\n"}],"visibility":"show","key":"diCaQRrmGZ"}],"visibility":"show","key":"M4rpsKdISw"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open a GeoTIFF in rasterio","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nYnLswhTN7"}],"identifier":"open-a-geotiff-in-rasterio","label":"Open a GeoTIFF in rasterio","html_id":"open-a-geotiff-in-rasterio","implicit":true,"key":"rnS8SzWxNW"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that we have saved the file, we can open it locally with the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"N00Vh0QFmF"},{"type":"link","url":"https://rasterio.readthedocs.io/en/latest/intro.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"inlineCode","value":"rasterio","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pz9EZdIJrC"}],"urlSource":"https://rasterio.readthedocs.io/en/latest/intro.html","key":"iVBfLWCpge"},{"type":"text","value":" library.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"r5fpoAegBk"}],"key":"pIYzvsN0x7"}],"key":"zWMZjqghIg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"myImage = rio.open(filename)\nmyImage","visibility":"show","key":"WPelVsS6py"},{"type":"output","id":"Gut-Eerc3fg7MV9BEOnbW","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"text/plain":{"content":"<open DatasetReader name='my-satellite-image.tif' mode='r'>","content_type":"text/plain"}}}],"visibility":"show","key":"nbIeopybHQ"}],"visibility":"show","key":"vmktdhguht"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot a GeoTIFF in Matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OYOT2IIrou"}],"identifier":"plot-a-geotiff-in-matplotlib","label":"Plot a GeoTIFF in Matplotlib","html_id":"plot-a-geotiff-in-matplotlib","implicit":true,"key":"CcBfaMJJM4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now we can easily plot the image in a matplotlib figure, just using the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Stx5eQiK0q"},{"type":"link","url":"https://rasterio.readthedocs.io/en/latest/api/rasterio.plot.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"inlineCode","value":"rasterio.plot()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UtoR9M31Lt"}],"urlSource":"https://rasterio.readthedocs.io/en/latest/api/rasterio.plot.html","key":"ST6ZZK4wna"},{"type":"text","value":" module.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MOlD78sIgO"}],"key":"UutctX0N8q"}],"key":"AFNBDK8914"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=[4,4])\nrioplot.show(myImage, ax=ax);","visibility":"show","key":"cAUCGDKo3a"},{"type":"output","id":"8Cpt_187io6FXK5h1RxQ1","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"90666f37782de92bb53403d9d91d79cc","path":"/icesat2-cookbook/_preview/7/build/90666f37782de92bb53403d9d91d79cc.png"},"text/plain":{"content":"<Figure size 400x400 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"se6LbUYrnp"}],"visibility":"show","key":"Jx90JFuke6"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"transform the ground track into the image CRS","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aZ8CzUX75m"}],"identifier":"transform-the-ground-track-into-the-image-crs","label":"transform the ground track into the image CRS","html_id":"transform-the-ground-track-into-the-image-crs","implicit":true,"key":"QbPcR7ep9Z"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Because our plot is now in the Antarctic Polar Stereographic Coordrinate Reference System, we need to project the coordinates of the ground track from lon/lat values. The ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JiCvk7GKND"},{"type":"link","url":"https://rasterio.readthedocs.io/en/latest/api/rasterio.warp.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"inlineCode","value":"rasterio.warp.transform","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YcGI6ZU8nC"}],"urlSource":"https://rasterio.readthedocs.io/en/latest/api/rasterio.warp.html","key":"bRy0Pjuoxe"},{"type":"text","value":" function has us covered. From then on, it’s just plotting in Matplotlib.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Yrw2Pjs78W"}],"key":"BghRJDch7o"}],"key":"WGaudkQMFH"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"gtx_x, gtx_y = warp.transform(src_crs='epsg:4326', dst_crs=myImage.crs, xs=is2data.atl08.lon, ys=is2data.atl08.lat)\nax.plot(gtx_x, gtx_y, color='red', linestyle='-')\nax.axis('off')","visibility":"show","key":"EUa7yUDlTS"},{"type":"output","id":"VcVXRnNjY8PaHAU0ivMWK","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\n            <style>\n                .geemap-dark {\n                    --jp-widgets-color: white;\n                    --jp-widgets-label-color: white;\n                    --jp-ui-font-color1: white;\n                    --jp-layout-color2: #454545;\n                    background-color: #383838;\n                }\n\n                .geemap-dark .jupyter-button {\n                    --jp-layout-color3: #383838;\n                }\n\n                .geemap-colab {\n                    background-color: var(--colab-primary-surface-color, white);\n                }\n\n                .geemap-colab .jupyter-button {\n                    --jp-layout-color3: var(--colab-primary-surface-color, white);\n                }\n            </style>\n            ","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":106,"metadata":{},"data":{"text/plain":{"content":"(np.float64(570580.0),\n np.float64(575140.0),\n np.float64(8608010.0),\n np.float64(8612600.0))","content_type":"text/plain"}}}],"visibility":"show","key":"fiAGdtgOO7"}],"visibility":"show","key":"V9tCscWFLO"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TyVpyXz4CM"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"ESLiFMgw2q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"🎉 Congratulations! You’ve completed this tutorial and have seen how we can put ICESat-2 photon-level data into context using Google Earth Engine and the OpenAltimetry API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VC1xqTd8zv"}],"key":"nRi6UvHjuv"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"You can explore a few more use cases for this code (and possible solutions for Exercise 2) in ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"g7BvfyESLu"},{"type":"link","url":"./use_examples.ipynb","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"this notebook","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"x4yAp7iI3V"}],"urlSource":"./use_examples.ipynb","key":"dkJGftL7Xf"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jezHNz3EgH"}],"key":"JBWp8jbV8o"}],"key":"lM1MB6gGPx"},{"type":"block","kind":"notebook-content","data":{"user_expressions":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MGrpg62Lk1"}],"identifier":"references","label":"References","html_id":"references","implicit":true,"key":"uPGZ1Mq66x"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To further explore the topics of this tutorial see the following detailed documentation:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IufDXiUA12"}],"key":"dYCiO3z1GM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://openaltimetry.org/data/swagger-ui/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The OpenAltimetry API","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KLk7O7Nrrv"}],"urlSource":"https://openaltimetry.org/data/swagger-ui/","key":"MAmakj9GJH"}],"key":"cUBVmrjJEJ"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://developers.google.com/earth-engine/guides","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Google Earth Engine JavaScript and Python Guides","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PDreb8MdA9"}],"urlSource":"https://developers.google.com/earth-engine/guides","key":"cSL13zShho"}],"key":"p0WEfePl7p"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://developers.google.com/earth-engine/tutorials/community/sentinel-2-s2cloudless","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Tutorial on Sentinel-2 cloud masking with s2cloudless","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RZbFPcFEgl"}],"urlSource":"https://developers.google.com/earth-engine/tutorials/community/sentinel-2-s2cloudless","key":"eAyrxfGQSK"}],"key":"J0C7rHf1g6"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://geemap.org/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The geemap package","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QEB3J3hKvG"}],"urlSource":"https://geemap.org/","key":"yPU3FNlJYx"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HGlRKGuXBf"},{"type":"link","url":"https://geemap.org/tutorials/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"tutorials","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"thaMCkGfU1"}],"urlSource":"https://geemap.org/tutorials/","key":"NQ6nFx9C1n"}],"key":"QJh83ae4lY"}],"key":"zh5I5QQAiM"}],"key":"nytb0S3JJn"}],"key":"ejQVwVoXw1"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Machine Learning","url":"/notebooks/machine-learning","group":"Foundations"},"next":{"title":"Land Ice Applications","url":"/notebooks/land-ice","group":"Example Workflows"}}},"domain":"http://localhost:3000"}